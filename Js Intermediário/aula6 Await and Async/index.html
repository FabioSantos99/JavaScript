<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let hey = 'you';
        console.log(hey);

        setTimeout(() => {
            console.log('hey babe');
        },0);
        console.log('there');

        const buyIceCream = function(amount =5) {
            return new Promise(function(resolve, reject){
         // resolve - a function to call when the promise is successful
         
         // reject = a function to call when the promise has failed

         setTimeout(() =>{
            if (amount < 3){
                reject('not enough moneyy');
            } else{
                resolve('An Ice cream!')
            }
         })
            })
        }

        const buyIceCream2 = async function(amount = 5){
            if(amount < 3){
                throw new Error('not enough moneyyy');
            } else{
                return 'An Ice Cream';
            }
        }

        buyIceCream2(20)
         .then((response) => {
            console.log(response);

         })
         async function main(){
            console.log('hey');
            const iceCream = await buyIceCream2(20);
            console.log(iceCream);
            console.log('there');
         }
         main();

         buyIceCream(10)
           .then((response) =>{
            return buyIceCream2(20)
           })
           .then((response) =>{
            return buyIceCream(10);
           })

       /* buyIceCream(2)
        .then((response) =>{
            console.log(response);
            throw new Error('peek a boo')
            return ' i bought an ice cream;'
        })
        .catch((error) => {
            console.log(error); 
        })
        .then((response) => {
            throw new Error('peek a boo V2')
            console.log(response);
        }) */

        /*const buy = buyIceCream(20);
        const buy2 = buy.then((response) => {
           console.log(response); 
        })
        const buy3 = buy2.catch((response) =>{
            console.log(response)
        })*/
    </script>
</body>
</html>